#autoload

local grep_command='rg --line-number --no-heading .'
local fzf_command='fzf --ansi --multi --prompt="VSCode> " --delimiter=":" --nth=3 --preview="${FZF_PREVIEW_BIN_PATH}/preview_fzf_grep {}" | cut -d':' -f1-2 2>/dev/null'
fzf_command+=' ${FZF_PREVIEW_DEFAULT_SETTING}'
fzf_command+=' ${FZF_PREVIEW_DEFAULT_BIND}'
local vscode_command='xargs -I{} code --goto {}'
local command="${grep_command} | ${fzf_command} | ${vscode_command}"

eval $command
